<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í™€ì§ ë„ë°• ì‹œë®¬ë ˆì´ì…˜</title>
<style>
  body {
    font-family: "Arial", sans-serif;
    background: linear-gradient(135deg, #2b5876, #4e4376);
    color: white;
    text-align: center;
    padding-top: 50px;
    overflow: hidden;
    transition: background 0.6s ease;
  }
  h1 { font-size: 28px; margin-bottom: 10px; }
  #balance, #goal { font-size: 22px; margin: 8px; }
  #result { font-size: 20px; margin: 25px; transition: all 0.5s ease; }
  input[type="number"] {
    padding: 10px; border-radius: 5px; border: none; font-size: 16px; width: 150px; text-align: center;
  }
  button {
    padding: 12px 20px;
    margin: 10px;
    font-size: 18px;
    border: none;
    border-radius: 10px;
    background-color: #6a11cb;
    color: white;
    cursor: pointer;
    transition: all 0.3s;
  }
  button:hover { transform: scale(1.1); background-color: #2575fc; }

  /* ì‹œê° íš¨ê³¼ */
  .flash {
    animation: flash 0.3s;
  }
  @keyframes flash {
    0% { background-color: #00ff88; }
    100% { background: linear-gradient(135deg, #2b5876, #4e4376); }
  }

  /* ëˆ ì¦ê° í‘œì‹œ */
  .floating-text {
    position: absolute;
    font-size: 24px;
    font-weight: bold;
    pointer-events: none;
    animation: floatUp 1s ease-out forwards;
  }
  @keyframes floatUp {
    0% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(-80px); }
  }
</style>
</head>
<body>
  <h1>ğŸ² í™€ì§ ë„ë°• ì‹œë®¬ë ˆì´ì…˜ ğŸ²</h1>
  <div id="balance">ğŸ’° ë³´ìœ  ê¸ˆì•¡: 500,000ì›</div>
  <div id="goal">ğŸ¯ ëª©í‘œ ê¸ˆì•¡: 5,000,000ì›</div>
  <div>
    <input type="number" id="bet" placeholder="ë°°íŒ… ê¸ˆì•¡ ì…ë ¥" min="1">
  </div>
  <div>
    <button onclick="playGame('í™€')">í™€</button>
    <button onclick="playGame('ì§')">ì§</button>
  </div>
  <div id="result"></div>

  <!-- íš¨ê³¼ìŒ -->
  <audio id="betSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" preload="auto"></audio>
  <audio id="winSound" src="https://actions.google.com/sounds/v1/cartoon/concussive_hit_guitar_boing.ogg" preload="auto"></audio>
  <audio id="loseSound" src="https://actions.google.com/sounds/v1/cartoon/slap.ogg" preload="auto"></audio>

  <script>
    let balance = 500000;
    let failCount = 0;
    let winRate = 0.35; // ì´ˆê¸° ì„±ê³µ í™•ë¥  35%

    const balanceDisplay = document.getElementById("balance");
    const resultDisplay = document.getElementById("result");
    const betSound = document.getElementById("betSound");
    const winSound = document.getElementById("winSound");
    const loseSound = document.getElementById("loseSound");

    function playGame(choice) {
      const bet = Number(document.getElementById("bet").value);

      if (bet <= 0 || isNaN(bet)) {
        alert("ë°°íŒ… ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”!");
        return;
      }

      if (balance <= bet * 0.5) {
        alert("âš ï¸ ë³´ìœ ê¸ˆì´ ë„ˆë¬´ ì ìŠµë‹ˆë‹¤!");
        return;
      }

      // ë°°íŒ… ì‹œì‘ ì‹œ íš¨ê³¼ìŒ & ì‹œê° íš¨ê³¼
      document.body.classList.add("flash");
      setTimeout(() => document.body.classList.remove("flash"), 300);
      betSound.currentTime = 0;
      betSound.play();

      // ê²Œì„ ê²°ê³¼ ê³„ì‚°
      const random = Math.random();
      const outcome = random < winRate ? choice : (choice === 'í™€' ? 'ì§' : 'í™€');
      const isWin = choice === outcome;

      if (isWin) {
        const gain = bet * 2;
        balance += gain;
        resultDisplay.innerHTML = `âœ… ìŠ¹ë¦¬! ${gain.toLocaleString()}ì› íšë“!`;
        winSound.currentTime = 0;
        winSound.play();
        failCount = 0;
        winRate = Math.max(0.25, winRate - 0.02);
        showFloatingText(`+${gain.toLocaleString()}`, "lime");
      } else {
        const loss = bet * 2.5;
        balance -= loss;
        resultDisplay.innerHTML = `âŒ íŒ¨ë°°... ${loss.toLocaleString()}ì› ì†ì‹¤`;
        loseSound.currentTime = 0;
        loseSound.play();
        failCount++;
        if (failCount >= 5) {
          winRate = Math.min(0.5, winRate + 0.1);
          failCount = 0;
        }
        showFloatingText(`-${loss.toLocaleString()}`, "red");
      }

      balanceDisplay.innerHTML = `ğŸ’° ë³´ìœ  ê¸ˆì•¡: ${balance.toLocaleString()}ì›`;

      // íŒŒì‚° or ëª©í‘œ ë‹¬ì„± ì‹œ ì´ˆê¸°í™”
      if (balance <= 0) {
        alert("ğŸ’€ íŒŒì‚°í•˜ì…¨ìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤.");
        resetGame();
      } else if (balance >= 5000000) {
        alert("ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! 5,000,000ì› ë‹¬ì„±! ê²Œì„ì´ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.");
        resetGame();
      }
    }

    function resetGame() {
      balance = 500000;
      failCount = 0;
      winRate = 0.35;
      balanceDisplay.innerHTML = `ğŸ’° ë³´ìœ  ê¸ˆì•¡: ${balance.toLocaleString()}ì›`;
      resultDisplay.innerHTML = "";
    }

    // í™”ë©´ ì•„ë¬´ ê³³ì— +ê¸ˆì•¡ / -ê¸ˆì•¡ í‘œì‹œ
    function showFloatingText(text, color) {
      const span = document.createElement("span");
      span.classList.add("floating-text");
      span.style.color = color;
      span.innerText = text;

      // í™”ë©´ ëœë¤ ìœ„ì¹˜
      span.style.left = Math.random() * (window.innerWidth - 100) + "px";
      span.style.top = Math.random() * (window.innerHeight - 100) + "px";

      document.body.appendChild(span);
      setTimeout(() => span.remove(), 1000);
    }
  </script>
</body>
</html>
